<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="/static/plugins/bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" href="/static/plugins/font-awesome/css/font-awesome.css"/>
    <link rel="stylesheet" href="/static/css/backend.css"/>
    <link rel="stylesheet" href="/static/css/commons.css"/>
    <link rel="stylesheet" href="/static/css/bootstrap-select.css"/>

    <link href="https://magicbox.bkclouds.cc/static_api/v3/assets/artDialog-6.0.4/css/ui-dialog.css" rel="stylesheet">

    <!-- 当前项目样式文件 -->
    <link href="/static/css/sb-admin.css" rel="stylesheet">
    <link href="/static/css/sb-bk-theme.css" rel="stylesheet">
    <link href="/static/css/bk.css" rel="stylesheet">

    <link href="https://magicbox.bkclouds.cc/static_api/v3/assets/kendoui-2015.2.624/styles/kendo.common.min.css" rel="stylesheet">
    <link href="https://magicbox.bkclouds.cc/static_api/v3/assets/kendoui-2015.2.624/styles/kendo.default.min.css" rel="stylesheet">

    <style type="text/css">
        .self:hover{
            color: yellow;
            cursor:pointer
            }
        .self-nocolor:hover{
            cursor:pointer
            }
        @media (min-width: 768px) {
          .modal-dialog {
              width: 800px;
              margin: 30px auto
          }}


    </style>

</head>
<body>
<div class="pg-header">
    {% include 'include/header_menu.html' %}
</div>
<div class="pg-body">
    <div class="menu">
        <a id="menu_asset" class="menu-item" href="/task_virtual.html">
            <i class="fa fa-vimeo" aria-hidden="true"></i>
            <span>KVM</span>
        </a>
        <a id="menu_docker" class="menu-item" href="/docker_index.html">
            <i class="fa fa-mixcloud" aria-hidden="true"></i>
            <span>Docker</span>
        </a>
        <a id="menu_user_profile" class="menu-item" href="#">
            <i class="fa fa-server" aria-hidden="true"></i>
            <span>物理机</span>
        </a>
        <a class="menu-item" href="#">
            <i class="fa fa-desktop" aria-hidden="true"></i>
            <span>日志管理</span>
        </a>

    </div>

    <div class="content">
<div id="page-wrapper">

            <div class="container-fluid">

                <!-- Page Heading -->
                <!-- /.row -->

                <div class="row data-panel">
                    <div class="col-lg-3 col-md-6">
                        <div class="king-widget2">
                            <div class="king-widget-content p20 bg-info" onclick="server_show()">
                                <div class="king-counter king-counter-lg self">
                                    <div class="king-counter-label text-uppercase f16">DOCKER</div>
                                    <div class="king-counter-number-group">
                                        <span class="king-counter-number white">2</span>
                                        <span class="king-counter-icon ml10 white">
                                            <i class="fa fa-server"></i>
                                        </span>
                                    </div>
                                    <div class="king-counter-label text-uppercase f16">物理节点</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="king-widget2">
                            <div class="king-widget-content p20 bg-info">
                                <div class="king-counter king-counter-lg self">
                                    <div class="king-counter-label text-uppercase f16">DOCKER</div>
                                    <div class="king-counter-number-group">
                                        <span class="king-counter-number white">0</span>
                                        <span class="king-counter-icon ml10 white">
                                            <i class="fa fa-cubes"></i>
                                        </span>
                                    </div>
                                    <div class="king-counter-label text-uppercase f16">总容器数量</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="king-widget2">
                            <div class="king-widget-content p20 bg-info">
                                <div class="king-counter king-counter-lg self">
                                    <div class="king-counter-label text-uppercase f16">DOCKER</div>
                                    <div class="king-counter-number-group">
                                        <span class="king-counter-number white">0</span>
                                        <span class="king-counter-icon ml10 white">
                                        <i class="fa fa-ship"></i>
                                    </span>
                                    </div>
                                    <div class="king-counter-label text-uppercase f16">运行中数量</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="king-widget2">
                            <div class="king-widget-content p20 bg-success">
                                <div class="king-counter king-counter-lg self-nocolor">
                                    <div class="king-counter-label text-uppercase f16">DOCKER</div>
                                    <div class="king-counter-number-group">
{#                                        <span class="king-counter-number white">50</span>#}
                                        <span class="king-counter-number-related white">+</span>
{#                                        <i class="fa fa-"></i>#}
                                    </div>
                                    <div class="king-counter-label text-uppercase f16">新建容器</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.row -->

                <div class="row charts">
                    <div class="col-md-6">
                        <div class="king-block king-block-bordered mb30">
                            <div class="king-block-header">
                                <h3 class="king-block-title">数据</h3>
                            </div>
                            <div class="king-block-content">
                                <div class="chart" id="chartA"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="king-block king-block-bordered mb30">
                            <div class="king-block-header">
                                <h3 class="king-block-title">数据</h3>
                            </div>
                            <div class="king-block-content">
                                <div class="chart" id="chartC"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="king-block king-block-bordered mb30">
                            <div class="king-block-header">
                                <h3 class="king-block-title">数据</h3>
                            </div>
                            <div class="king-block-content">
                                <div class="chart" id="chartB"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="king-block king-block-bordered mb30">
                            <div class="king-block-header">
                                <h3 class="king-block-title">数据</h3>
                            </div>
                            <div class="king-block-content">
                                <div class="chart" id="chartD"></div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- /.row -->

            </div>
            <!-- /.container-fluid -->


        {% block conent %} {% endblock %}
    <!-- 添加用户开始 -->
    <div class="modal fade bs-example-modal-lg" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content" style="border-radius: 0px">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">容器节点</h4>
              </div>
              <form id="form1">
              <div class="modal-body">
                  <div class="form-group">
{#                    <label for="recipient-name" class="control-label">1.用户名</label>#}
{#                    <input type="text" class="form-control" id="user_name">#}
                    <div id="table4_demo3" class="mb30 demo"></div>
                    <div id="table4_demo4" class="mb30 demo"></div>

                  </div>
              </div>
              <div class="modal-footer">
                  <span id="error_message" style="color: red;"></span>
                  <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                  <button id="add_users" type="button" class="btn btn-primary">保存</button>
              </div>
            </form>
            </div>
          </div>
        </div>
    <!-- 添加用户结束 -->

    </div>
</div>
</div>
    <script type="text/javascript" src="/static/js/jquery-1.12.4.js"></script>
    <script type="text/javascript" src="/static/js/jquery.cookie.js"></script>

	<!-- 包括所有bootstrap的js插件或者可以根据需要使用的js插件调用　-->
    <script type="text/javascript" src="/static/plugins/bootstrap/js/bootstrap.js"></script>
    <script type="text/javascript" src="/static/js/nb-list.js"></script>

    <!-- 包括所有kendoui的js插件或者可以根据需要使用的js插件调用　-->
    <script src="/static/js/kendo.all.min.js"></script>

{#    <script src="https://magicbox.bkclouds.cc/static_api/v3/assets/artDialog-6.0.4/dist/dialog-min.js"></script>#}
{#    <script src="/static/js/bk.js"></script>#}

    <script type="text/javascript">
    $(document).ready(function() {
            $.initMenu('#menu_docker');
            $.nbDataList('/users.html', 1);

       $('#chartA').kendoChart({


           seriesDefaults: {
                type: 'line'
            },
            legend:{
                position : "bottom"
            },
            theme : 'bootstrap',
            tooltip:{
                visible:true,
                template:"#= series.name # #= value #"
            },
            categoryAxis: {
                categories: ['07-20','07-21','07-22','07-23','07-24','07-25','07-26'],
                majorGridLines: {
                    visible: false
                }
            },
            series: [{
                name: "test3_web",
                data: [0, 2, 4, 5, 0, 1, 0]
            }, {
                name: "test3_front",
                data: [0, 1, 0, 0, 2, 0, 0]
            }, {
                name: "test3_mobile",
                data: [4, 0, 2, 1, 5, 0, 1]
            }]
        });

        $('#chartB').kendoChart({
            legend:{
                position : "bottom"
            },
            theme : 'bootstrap',
            seriesDefaults:{
                type:'area',
                area: {
                    line: {
                        style: "smooth"
                    }
                }
            },
            categoryAxis:{
                categories : ['周一','周二','周三','周四','周五','周六','周日'],
                majorGridLines: {
                    visible: false
                }
            },
            series: [{
                name:'节点一',
                data:[10, 12, 21, 54, 260, 830, 710]
            },
            {
                name:'节点二',
                data:[30, 182, 434, 791, 390, 30, 10]
            },
            {
                name:'节点三',
                data:[1320, 1132, 601, 234, 120, 90, 20]
            }]
        });

        $('#chartC').kendoChart({
            legend:{
                position : "bottom"
            },
            theme : 'bootstrap',
            seriesDefaults: {
                labels: {
                    template: "#= category # - #= kendo.format('{0:P}', percentage)#",
                    position: "outsideEnd",
                    visible: true,
                    background: "transparent"
                }
            },
            series: [{
                name: '访问来源',
                type: 'pie',
                data: [{
                    category:'节点一',
                    value:335
                },
                {
                    value: 310,
                    category: '节点二'
                },
                {
                    value: 234,
                    category: '节点三'
                },
                {
                    value: 135,
                    category: '节点四'
                },
                {
                    value: 1548,
                    category: '节点五'
                }]
            }]
        });

        $('#chartD').kendoChart({
            seriesDefaults: {
                type: 'column'
            },
            legend:{
                position : "bottom"
            },
            theme : 'bootstrap',
            tooltip: {
                visible: true,
            },
            categoryAxis: {
                categories: [ 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ],
                majorGridLines: {
                    visible: false
                }
            },
            series: [{
                name: '测试数据1',
                data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]
            }, {
                name: '测试数据2',
                data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]
            }, {
                name: '测试数据4',
                data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2]
            }, {
                name: '测试数据5',
                data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1]
            }]
        });
    });

    //重新绘制
    $(window).on('resize',function(){
        var chartA = $("#chartA").data("kendoChart");
        var chartB = $("#chartB").data("kendoChart");
        var chartC = $("#chartC").data("kendoChart");
        var chartD = $("#chartD").data("kendoChart");

        chartA.redraw();
        chartB.redraw();
        chartC.redraw();
        chartD.redraw();
    });
    var data = [
    { ip: "192.168.1.1", time: '2017-11-16' },
    { ip: "192.168.1.2", time: '2017-11-16' }
];


 var dataSource = new kendo.data.DataSource({//数据源配置项
            offlineStorage: "offline-kendo-demo",
            transport: {
                read: {
                    url: "./demo.js",
                    dataType: "json"
                }
            },
            schema: {
                model: {
                    // id:"id",
                    fields: {
                        username: {
                            type: "string",
                            //自定义验证规则
                            validation: {
                                required: true,
                                usernamevalidation: function (input) {
                                    if (input.is("[name='username']") && input.val() != "") {
                                        input.attr("data-usernamevalidation-msg", "请输入中文姓名！");
                                        return /^[\u4E00-\u9FA5]/.test(input.val());
                                    }

                                    return true;
                                }
                            }
                        },
                        phone: {
                            type: "string",
                            validation: {
                                required: true,
                                phonevalidation: function (input) {
                                    if (input.is("[name='phone']") && input.val() != "") {
                                        input.attr("data-phonevalidation-msg", "请输入正确的手机号码！");
                                        var result = /^1[0-9]{10}/.test(input.val());
                                        if(!result){
                                            alert('请输入正确的手机号码！');
                                            return false;
                                        }
                                    }

                                    return true;
                                }
                            }
                        },
                        age: { type: "number"},
                        city: { type: "string", validation: { required: true} }

                    }
                }
            }
        });
        dataSource.online(false);
        //表格(Kendo UI)-3，可编辑表格
        $('#table4_demo3').kendoGrid({
            height: 250, //设置高度，超过显示滚动条
            pageable: false, //隐藏分页
            editable: 'inline',
            toolbar: [
                {
                   template:  '<div class="clearfix pt5 pb5 pr15">'+
                              '<div class="pull-right"><button class="king-btn king-info add-user">新增节点</button></div>'+
                              '</div>'
                }
            ],
                  dataSource: {
                    data: data
                  },
{#            dataSource: dataSource,#}
            columns: [
                {
                    field: 'ip',
                    title: 'IP',
{#                    width: 200#}
                },
                {
                    field: 'time',
                    title: '创建时间'
                },
                {
                    title: '操作',
                    width: 225,
                    command: ['edit', '初始化', 'destroy']
                }
            ]
        });

        var grid3 = $('#table4_demo3').data('kendoGrid');
        $('#table4_demo3').on('click','.add-user',function(){
            grid3.addRow(); //插件编辑行
            return false;
        });

    function server_show() {
        $('#myModal').modal({backdrop: 'static', keyboard: false});
        var d = dialog({
            width: 260,
            title: '欢迎',
            quickClose: true,
            content: '欢迎使用 artDialog 对话框组件！',
            ok: function() {
                console.log(this);
                // do something
            },
            cancelValue: '取消',
            cancel: function() {
                console.log(this);
                // do something
            },
            onshow: function() {
                console.log(this);
                // do something
            }
        });
{#        d.show();#}
    }

    </script>
</body>
</html>